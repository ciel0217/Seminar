
# 第一回講義
## DirectXの中身

## CPUとGPUについて
 - CPU 難しい問題を早くとける(普通のゲームシステムの処理)
 - GPU 簡単な問題を早くとける(シェーダー)

## DirectXの実際の処理の流れ
 1. 頂点をGPU(シェーダー)に渡す(Draw関数)
 2. 頂点を加工する。(WorldViewProjection行列を乗算...etc)
 3. 加工した頂点同士を結び三角形を作る
 4. その三角形の中のポリゴンの色を決める
 5. そのポリゴンを出力するかどうか決める(ラスタライザ、Zバッファ(depthバッファ))
 6. そのポリゴンを出力する。
    
- 上の処理をシェーダーに置き換えると...
1. Draw関数
2. 頂点シェーダー(VertexShader)
3. ハルシェーダー
4. テッセレータ(シェーダーではない)
5. ドメインシェーダー
6. ジオメトリシェーダー
7. ラスタライザー(シェーダーではない)
8. ピクセルシェーダー
9. OuputMerger(シェーダーではない)

## 頂点シェーダー(VertexShader)とは
- 頂点を加工するシェーダー(wvp行列とかsinで上下に動かしたりとか)
  
## ハルシェーダーとは(自分で調べることを推奨)([解説記事](https://esprog.hatenablog.com/entry/2016/10/17/184146))
- 頂点シェーダーからやってきた入力パッチ情報から出力パッチ情報とパッチ定数を生成
  - パッチとは
    - 頂点を三つor四つで一つのパッチデータとして扱われる
- それぞれの頂点は、ハルシェーダー内において「**入力コントロールポイント**」という。頂点分割で使う制御点
-  ハルシェーダー内で絶対に必要な関数
  1. パットごとに実行される関数
  2. パッチ内のコントロールポイントごとに実行される関数

## テッセレータ
 - 人間が触れない。ようは何もできない
 - ハルシェーダーで設定した情報をもとに分割を行う。

## ドメインシェーダー
 - テッセレータで分割した頂点 + ハルシェーダーで設定した情報 = ドメインロケーションとよぶ
 - このドメインロケーションを用いて最終的な分割後の頂点の座標を決める。
  
## ジオメトリシェーダー
 - 頂点シェーダーやドメインシェーダーからきた面or線分or点情報をさらに加工出来る。
 - プリミティブ単位(三角形)で加工できる
 - 加工内容は自由
   - 面の移動
   - 面の複製

## ラスタライザ
 - CullingとかZバッファをクリップしたりとか

## ピクセルシェーダー
 - 頂点の色を決める

## OutputMerger
 - Z値のテストとかアルファブレンディングとか

## まとめ
 - プログラマが触れるシェーダーをプログラマブルシェーダーと呼ぶ
 - シェーダーはすべて並列処理
 - 実は描画に全く関係なく、GPUに計算だけさせたいときに使うシェーダーがある。名をコンピュートシェーダーと呼ぶ.
  